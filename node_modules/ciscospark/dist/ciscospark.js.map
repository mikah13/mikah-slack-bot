{"version":3,"sources":["ciscospark.js"],"names":["require","merge","registerPlugin","SparkCore","default","Memberships","Messages","Rooms","Teams","TeamMemberships","Webhooks","config","CiscoSpark","extend","ciscospark","version","init","attrs","module","exports"],"mappings":";;AAAA;;;;;;AAMA;AACA;AACA;;AAEA;;AAEAA;AACAA;AACA;AACA;AACAA;AACAA;AACAA;;eAEgBA,iB;IAATC,K,YAAAA,K;;gBACkBD,iC;IAAlBE,c,aAAAA,c;;AACP,IAAMC,YAAYH,kCAAkCI,OAApD;AACA,IAAMC,cAAcL,iCAAiCI,OAArD;AACA,IAAME,WAAWN,8BAA8BI,OAA/C;AACA,IAAMG,QAAQP,2BAA2BI,OAAzC;AACA,IAAMI,QAAQR,2BAA2BI,OAAzC;AACA,IAAMK,kBAAkBT,sCAAsCI,OAA9D;AACA,IAAMM,WAAWV,8BAA8BI,OAA/C;AACA,IAAMO,SAASX,mBAAf;;AAEAE,8BAA8BG,WAA9B;AACAH,2BAA2BI,QAA3B;AACAJ,wBAAwBK,KAAxB;AACAL,wBAAwBM,KAAxB;AACAN,kCAAkCO,eAAlC;AACAP,2BAA2BQ,QAA3B;;AAEA;AACA;AACA;;;;;;;;AAQA,IAAME,aAAaT,UAAUU,MAAV,CAAiB;AAClCC,cAAY,IADsB;AAElCC;AAFkC,CAAjB,CAAnB;;AAKAH,WAAWG,OAAX;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BAH,WAAWI,IAAX,GAAkB,SAASA,IAAT,GAA0B;AAAA,MAAZC,KAAY,uEAAJ,EAAI;;AAC1CA,QAAMN,MAAN,GAAeV,MAAM,EAAN,EAAUU,MAAV,EAAkBM,MAAMN,MAAxB,CAAf;AACA,SAAO,IAAIC,UAAJ,CAAeK,KAAf,CAAP;AACD,CAHD;;AAKAC,OAAOC,OAAP,GAAiBP,UAAjB","file":"ciscospark.js","sourcesContent":["/**!\n *\n * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.\n * @private\n */\n\n// Note: this file is written using commonjs instead of import/export to\n// simplify consumption by those less familiar with the current state of\n// JavaScript modularization\n\n/* eslint camelcase: [0] */\n\nrequire(`@ciscospark/plugin-authorization`);\nrequire(`@ciscospark/plugin-phone`);\n// explicitly load wdm, since we're relying on preDiscoveryServices and the\n// url interceptor\nrequire(`@ciscospark/internal-plugin-wdm`);\nrequire(`@ciscospark/plugin-logger`);\nrequire(`@ciscospark/plugin-people`);\n\nconst {merge} = require(`lodash`);\nconst {registerPlugin} = require(`@ciscospark/spark-core`);\nconst SparkCore = require(`@ciscospark/spark-core`).default;\nconst Memberships = require(`./plugins/memberships`).default;\nconst Messages = require(`./plugins/messages`).default;\nconst Rooms = require(`./plugins/rooms`).default;\nconst Teams = require(`./plugins/teams`).default;\nconst TeamMemberships = require(`./plugins/team-memberships`).default;\nconst Webhooks = require(`./plugins/webhooks`).default;\nconst config = require(`./config`);\n\nregisterPlugin(`memberships`, Memberships);\nregisterPlugin(`messages`, Messages);\nregisterPlugin(`rooms`, Rooms);\nregisterPlugin(`teams`, Teams);\nregisterPlugin(`teamMemberships`, TeamMemberships);\nregisterPlugin(`webhooks`, Webhooks);\n\n// documentation.js puts hashes in relative urls, so need to specify full urls\n// here\n/**\n * See {@link https://ciscospark.github.io/spark-js-sdk/example/browsers|Browser Guide} and\n * {@link https://ciscospark.github.io/spark-js-sdk/example/servers|Server Guide}\n * @see {@link /example/browsers|Browser Guide}\n * @see {@link /example/servers|Server Guide}\n * @class CiscoSpark\n * @extends SparkCore\n */\nconst CiscoSpark = SparkCore.extend({\n  ciscospark: true,\n  version: PACKAGE_VERSION\n});\n\nCiscoSpark.version = PACKAGE_VERSION;\n\n/**\n * Create a new ciscospark instance.\n *\n * Note: ciscospark.init() really only applies to node apps at this time. In web\n * browsers, you'll want to stick with manipulating the ciscospark instance you\n * get from `require('ciscospark')`.\n *\n * In addition to creating spark instances when you need more than one at a time\n * (for example, on an Express route handler), you can use `ciscospark.init()`\n * to create instances with an alternate config object. You'll typically do this\n * when you want to provide an alternate storage backend:\n * ```javascript\n * const spark = ciscospark.init({\n *   config: {\n *     storage: {\n *       boundedAdapter: youCustomAdapter\n *     }\n *   }\n * })\n * ```\n * Previous versions of the sdk suggested you should pass credentials here.\n * While that still possible, we no longer document it because you should rely\n * on the storage layer instead.\n * @param {Object} attrs\n * @param {Object} attrs.config (optional)\n * @memberof CiscoSpark\n * @returns {CiscoSpark}\n */\nCiscoSpark.init = function init(attrs = {}) {\n  attrs.config = merge({}, config, attrs.config);\n  return new CiscoSpark(attrs);\n};\n\nmodule.exports = CiscoSpark;\n"]}