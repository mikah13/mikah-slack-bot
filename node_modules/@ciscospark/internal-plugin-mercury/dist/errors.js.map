{"version":3,"sources":["errors.js"],"names":["ConnectionError","event","code","value","reason","defaultMessage","UnknownResponse","BadRequest","NotAuthorized","Forbidden"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uFAAA;;;;;AAKA;;;;AAEA;;;IAGaA,e,WAAAA,e;;;;;;;;;;;AAEX;;;;4BAIkB;AAAA,UAAZC,KAAY,uEAAJ,EAAI;;AAChB,sCAAwB,IAAxB,EAA8B;AAC5BC,cAAM;AACJC,iBAAOF,MAAMC;AADT,SADsB;AAI5BE,gBAAQ;AACND,iBAAOF,MAAMG;AADP;AAJoB,OAA9B;;AASA,aAAOH,MAAMG,MAAb;AACD;;;6BAhBMC,c;;AAmBT;;;;IAGaC,e,WAAAA,e;;;;;;;;;EAAwBN,e,WAC5BK,c;;AAGT;;;;IAGaE,U,WAAAA,U;;;;;;;;;EAAmBP,e,WACvBK,c;;AAGT;;;;IAGaG,a,WAAAA,a;;;;;;;;;EAAsBR,e,WAC1BK,c;;AAGT;;;;IAGaI,S,WAAAA,S;;;;;;;;;EAAkBT,e,WACtBK,c;;AAGT;AACA;AACA;AACA;AACA;AACA","file":"errors.js","sourcesContent":["/**!\n *\n * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {Exception} from '@ciscospark/common';\n\n/**\n * Exception thrown when a websocket gets closed\n */\nexport class ConnectionError extends Exception {\n  static defaultMessage = `Failed to connect to socket`;\n  /**\n   * @param {CloseEvent} event\n   * @returns {string}\n   */\n  parse(event = {}) {\n    Object.defineProperties(this, {\n      code: {\n        value: event.code\n      },\n      reason: {\n        value: event.reason\n      }\n    });\n\n    return event.reason;\n  }\n}\n\n/**\n * thrown for CloseCode 4400\n */\nexport class UnknownResponse extends ConnectionError {\n  static defaultMessage = `UnknownResponse is produced by IE when we receive a 4XXX. You probably want to treat this like a NotFound`;\n}\n\n/**\n * thrown for CloseCode 4400\n */\nexport class BadRequest extends ConnectionError {\n  static defaultMessage = `BadRequest usually implies an attempt to use service account credentials`;\n}\n\n/**\n * thrown for CloseCode 4401\n */\nexport class NotAuthorized extends ConnectionError {\n  static defaultMessage = `Please refresh your access token`\n}\n\n/**\n * thrown for CloseCode 4403\n */\nexport class Forbidden extends ConnectionError {\n  static defaultMessage = `Forbidden usually implies these credentials are not entitled for Spark`;\n}\n\n// /**\n//  * thrown for CloseCode 4404\n//  */\n// export class NotFound extends ConnectionError {\n//   static defaultMessage = `Please refresh your Mercury registration (typically via a WDM refresh)`;\n// }\n"]}